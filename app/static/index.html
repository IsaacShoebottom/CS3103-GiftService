<!DOCTYPE html>

<head>
  <title>Welcome to Presents R Us</title>
  <script src="https://cdn.jsdelivr.net/npm/vue@3.4.21/dist/vue.global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios@1.6.8/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <script type="module" src="/static/index.js"></script>
</head>
<html data-bs-theme="dark">

<body>
  <div class="container-xxl" id="app">
    <div class="navbar">
      <a class="navbar-brand" href="/">Presents R Us</a>
      <a class="navbar-text nav-link" @click="viewProfile()">Profile</a>
      <a class="navbar-text nav-link" @click="viewBrowse()">Browse</a>
      <button v-if="loggedIn" class="btn btn-primary" @click="logout()">Logout</button>
    </div>
    <div v-if="!loggedIn" class="input-group mb-3">
      <input class="form-control" placeholder="Username" type="text" v-model="username">
      <input class="form-control" placeholder="Password" type="password" v-model="password">
      <button class="btn btn-primary" @click="login(username, password)">Login</button>
    </div>

    <div v-if="view === 'browse'" class="input-group">
      <input class="form-control" placeholder="Search" type="text" v-model="term">
      <button class="btn btn-primary" @click="search(term)">Search</button>
    </div>
    <div v-if="view === 'profile'" class="input-group">
      <input class="form-control" placeholder="Name" type="text" v-model="addName">
      <input class="form-control" placeholder="Link" type="text" v-model="addLink">
      <button class="btn btn-primary" @click="add(addName, addLink)">Add</button>
    </div>
    <div>
      <table class="table">
        <thead>
          <tr>
            <th>#</th>
            <th>Name</th>
            <th>Edit</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tr v-for="(present, index) in presents">
          <td>{{ index+1 }}</td>
          <td><a :href="present.link">{{ present.title }}</a></td>
          <td><button class="btn btn-primary " @click="editModal(present.presentId, index)">Edit</button></td>
          <td><button class="btn btn-primary" @click="remove(present.presentId)">Delete</button></td>
        </tr>
      </table>
    </div>
    <div class="input-group" v-if="editMode">
      <input class="form-control" type="text" placeholder="Name" v-model="editName">
      <input class="form-control" type="text" placeholder="Link" v-model="editLink">
      <button class="btn btn-primary" @click="edit(editId, editName, editLink)">Update</button>
    </div>
  </div>
</body>

</html>